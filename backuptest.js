const path = require('path');
const fs = require('fs');
const config = require(`${__dirname}/config.json`);
const logFolder = path.join(config.gameServerDir, 'logs');


const top = "[[{"name":"-=El Pego=-","id":"11457572","ip":"51.241.87.167","kills":5178,"deaths":2179,"kdr":2.38,"chat":["\"lol\" ","\"LOL\" ","\"NS\" ","\"LOL\" ","\"OH, think i picked it up a couple of time\" ","\"olo\" ","\"this didnt used to drop here??#\" ","\"yeah i spent 10 mins trying to get up there last night\" ","\"went laggy with 4 in here\" ","\"few dead bodies floating around'\" ","\"do you have the old cfg\" ","\"i see the rates were higher than the old cfg\" ","\"brb need a weeeeee\" ","\"HI\" ","\"lol\" ","\"lol\" ","\"gg\" ","\":P\" ","\"lol\" ","\"lol\" ","\"ty\" ","\"gg\" ","\"lol\" ","\"loll#\" ","\"ns\" ","\"ns\" ","\"gg\" ","\"ty\" ","\":)\" ","\"why\" ","\"ns\" ","\"tgg\" ","\"wow my fingers are hurting\" ","\"FUK its 2am\" ","\"gg guys\" ","\"iam offfff\" ","\"lol\" ","\"ns\" ","\"lo.,\" ","\"gg\" ","\"yo\" ","\"which one]\" ","\"cl_playlikeapro\" ","\"its passworded\" ","\"no its 'crylikeabitch'\" ","\"gg\" ","\"?#\" ","\"i forget how to record\" ","\"ill try, never really record as it fucks with my game\" ","\"but will do for you\" ","\"hard enough playing with such high ping without added lag from recording\" ","\"vega64\" ","\"ok\" ","\"lol#\" ","\"loll#\" ","\"lol\" ","\"lol cheaty\" ","\"gg\" ","\"stop cheating now guys\" ","\"lol\" ","\"i only got this game 3 days ago\" ","\"its good\" ","\"ok i lie, i have played before\" ","\"sorry reactions \" ","\"bit laggy, but will be with 130 ping\" ","\"learnt to adjust my aim\" ","\"ns\" ","\"gg\" ","\"UYYT\" ","\"HI\" ","\"hi\" ","\" i dont have it\" ","\"lol;\" ","\"cheat\" ","\"lol\" ","\"hope you paid full price for it\" ","\"yeah\" ","\"whats channel\" ","\"hear me\" ","\"hax working\" ","\"im in\" ","\"lol\" ","\"gg\" ","\"gg\" ","\"gg\" ","\"GG\" ","\"G\" ","\"hi\" ","\"g\" ","\"gg\" ","\"hi\" ","\"gg\" ","\"lol\" ","\"dont be so hard on yourself\" ","\"dude i gotr loads to do\" ","\"gyg\" ","\"gtg\" ","\"was fun\" ","\"gg\" ","\"quake\" ","\"?QUAKE\" ","\"/QUAKE\" ","\"hio\" ","\"yes\" ","\"GG\" ","\"WP GG BB\" ","\"!quake\" ","\"?quake\" ","\"quake\" ","\"GG\" ","\"timeleft\" ","\"this one has open platforms\" ","\"so you can kill thou them\" ","\"mind that\" ","\"lol#\" ","\"loads of health and weps\" ","\"uns\" ","\"fun with more\" ","\"hi\" ","\"!votemap\" ","\"!votemap\" ","\"NiCe ShOt!\" ","\"OOOH VERY NICE\" ","\"Hi  :)\" ","\"!votemap\" ","\"gg\" ","\"lol i can hear yours\" ","\"just not mine\" ","\"must be this autoexec\" ","\"yeah it was set as 1\" ","\"but i have none\" ","\" you have\" ","\"and no sound when i sprint\" ","\"same\" ","\"hax\" ","\"lol  XD\" ","\"when i started usinmg this cfg i didnt delete the default ones\" ","\"ok\" ","\"ok gg\" ","\"Hi  :)\" ","\"lol  XD\" ","\"NiCe ShOt!\" ","\"NiCe ShOt!\" ","\"OOOH VERY NICE\" ","\"lol  XD\" ","\"Well Played\" ","\"gg\" ","\"Hi  :)\" ","\"now your in trouble\" ","\"lol  XD\" ","\"gg\" ","\"gg\" ","\"gg\" ","\"brb\" ","\"gg\" ","\"Hi  :)\" ","\"lol  XD\" ","\"lol  XD\" ","\"g\" ","\"ok\" ","\"shoot earlier then\" ","\"lol  XD\" ","\"lol  XD\" ","\"you justr won a match \" ","\"right gtg food\" ","\"lol  XD\" ","\"bb\" ","\"all left\" ","\"what u mean faster\" ","\"lol  XD\" ","\"Hi  :)\" ","\"ThAnKyOu\" ","\"YoU JuSt BeEn OwNeD By «Ðe|Мōŋ»\" ","\"LOL OLD BIND\" ","\"PoW... TaKe ThAt Ya FuCkEr  :P\" ","\"lol  XD\" ","\"lol  XD\" ","\"lol  XD\" ","\"NiCe ShOt!\" ","\"NiCe ShOt!\" ","\"lol  XD\" ","\"YOU HIT MY BIG TOE\" ","\"OK\" ","\"GoOd GaMe\" ","\"lol  XD\" ","\"lol  XD\" ","\"ThAnKyOu\" ","\"your not killing me\" ","\"lol  XD\" ","\"tgg\" ","\"WHY\" ","\"gg\" ","\"lol  XD\" ","\"#\" ","\"GoOd GaMe\" ","\"HMM\" ","\"lol  XD\" ","\"GoOd GaMe\" ","\"BB\" ","\"Hi  :)\" ","\"ThAnKyOu\" ","\"been taken out i think on this version of map\" ","\"lol  XD\" ","\"GoOd GaMe\" ","\"dont know why??#\" ","\"lol  XD\" ","\"GoOd GaMe\" ","\"GoOd GaMe\" ","\"GoOd GaMe\" ","\"GoOd GaMe\" "],"weapons":[["357",2277],["crossbow_bolt",1567],["shotgun",724],["headshots",308],["grenade_frag",265],["smg1",91],["smg1_grenade",82],["ar2",73],["combine_ball",50],["physics",38],["rpg_missile",28],["crowbar",4],["pistol",3]]},{"name":"Audio","id":"12659204","ip":"192.168.86.236","kills":3980,"deaths":3393,"kdr":1.17,"chat":["\"brb\" ","\"BOWL!!!!!!!!!\" ","\"lol 2 hp\" ","\"brb\" ","\"r?\" ","\"play ok?\" ","\" c ya \" ","\"yeah id like a weapon for mire then 2 seconds please \" ","\"-.-\" ","\"=d\" ","\"i can not gravity gun the crossbow from top of castle any more \" ","\"uesd to do that alot now it will not move with gg \" ","\"lol\" ","\"didn't see that hsit comming \" ","\"i just wwant crossbow so i can miss with it \" ","\"yeah this map it bugged \" ","\"the glass upstairs is invisable on my pc \" ","\"i got up their and had to kill myself to get out \" ","\"idk anything about mapping but i did something years ago to this map to get playable \" ","\" i need to look @ some settings i guess the old cfg had alot of issues and wouldn't load \" ","\"lag has to be setting cause pc was not botthered @ all and internet is no where near capped \" ","\"i have a version of it \" ","\"i  don't even remember what that does \" ","\"kk\" ","\"tommy\" ","\"you got discord?\" ","\"get dat shit\" ","\"i gotta go cook food \" ","\"play away fellas \" ","\"brb\" ","\"aight gg fellas i gotta sleep\" ","\"-.-\" ","\"CHILL MAN \" ","\"LOL\" ","\" i really hate that gun \" ","\"go with me mf \" ","\"CATCH SIR \" ","\"WOW ns \" ","\"brb drink\" ","\"lol he noped the fuck out \" ","\"gg\" ","\"lol \" ","\"gg\" ","\"c ya man \" ","\"hello\" ","\"lol didn't expect anyone to be in here \" ","\"on lunch can't play atm was just testing something \" ","\"this is my server \" ","\"no \" ","\"c ya  gotta go back to work \" ","\"this whore\" ","\"ty still wip \" ","\"thats y i am in here see what it looks lik ein game \" ","\" did you scroll down the page?\" ","\"stats\" ","\"lol yeah mine also \" ","\" it will reset when i clear logs \" ","\"i am gonna shower ill be back to play shortly \" ","\"discord\" ","\"whats up \" ","\"lol nice \" ","\"nice \" ","\"i am finding it really hard to deal with getting fuct up so bad @ a game i used to be good @ \" ","\"GG\" ","\"jed if you scroll down on motd it had stats \" ","\"demo record \" ","\"record filename in console \" ","\"ingame record adds no overhead \" ","\"gg guys im going to log out of game \" ","\"yeah using that cl_diealot \" ","\"always has been \" ","\"lots of grenades \" ","\"/shrug \" ","\"i know the feeling \" ","\"i just started playing again this week after about 14 year break \" ","\"nigga please \" ","\"is the server playing ok? \" ","\"i can't tell with 1 ms ping \" ","\"yeah takes a min to get that data over the pond \" ","\"gg\" ","\"yo bitches \" ","\"sec physics is crazy resetting map \" ","\"uget fuct \" ","\" C YA \" ","\"tommy\" ","\"lol \" ","\"ty \" ","\"whats up fellas \" ","\"the question is how do you not fly  \" ","\"gg\" ","\"?\" ","\"are you mad i am on lan?\" ","\"cool man take it easy \" ","\" have a good one \" ","\"LOOK @ MY SCORE \" ","\" tell me again i am cheating \" ","\"fml\" ","\"srry man i can't unlan \" ","\"yes \" ","\"yawn\" ","\"?\" ","\"gg\" ","\"everyone get hung on shit \" ","\"tommy im going to need you to get in discord \" ","\"if not im gonna kick you from server \" ","\"N1\" ","\"nc\" ","\"gg\" ","\"tommy \" ","\"get in discord!!!!!!!!!\" ","\"LOL\" ","\"GG\" ","\"/QUAKE\" ","\"fall damage -.- \" ","\"yeah im not sure ill like this map but ill leave it in \" ","\"finger still sore gonna log for a while \" ","\"!votemap \" ","\"votemap\" ","\"!votemap\" ","\"!votemap\" ","\"!votekick\" ","\"!voteban\" ","\"!votemute\" ","\"mp_footsteps = 1?\" ","\"ou are also the cop model\" ","\"thats wierd shit \" ","\"back to working on log parser \" ","\"i wire some function to make it better \" ","\"jed you got discord muted?\" ","\"we can hear you\" ","\" c ya\" ","\"toomy discord\" ","\"doens't look like you have changed you style at all. i still catch you going that same places. gotta change shit up \" ","\"gg boys \" ","\" c ya \" ","\"BITCH YOU JUST HAD RAMPAGE STFU \" ","\"you are still doing the same shit you are doing 14 years ago that didn't work then \" ","\"you are soooooooo predictable \" ","\"i know your paterns \" ","\"you can't do that same shit over and over \" ","\"gotta change things \" ","\"it's not about being faster \" ","\"it is about not doing the same shit \" ","\" like 100% the same paths \" ","\"tommy \" ","\" no mercy \" ","\"will i have \" ","\"YOU WERE BEING LESS PREDICTABLE \" ","\"to stop running the same shit?\" ","\"it's not hard if you usualy do it \" ","\"don't \" ","\"none up us worry about that \" ","\"us\" ","\"kill or be killed tommy \" ","\"thats the game \" ","\"it comes with time and rythm \" ","\"not to mention it is boring af waiting 20 mins to fight \" ","\"thats the shit that is getting you killed \" ","\"i killed you with 20 health \" ","\"DOWN\" ","\"tommy you are reverting \" ","\" stop it \" ","\"aight man ggs \" ","\"gg boys im off for the night \" ","\"gg tom \" ","\"im off for the night \" ","\"was looking better early in the night \" ","\"later i noticed you rolling back \" ","\"it will comew \" ","\" c ya \" ","\"hello\" ","\"wasn't aim really \" ","\"kinna lead target throw shot and go about my day \" ","\"lol\" ","\"lol\" ","\"lol \" ","\"right click to under hand toss \" ","\"switch to gg default g \" ","\"right click to catch \" ","\"takes time to get it down \" ","\"ArtistofLife55<23><[U:1:920538795]><Unassigned>\" committed suicide with \"physcannon\" ","\"how?\" ","\"TOOMY D LIVE LORD\" ","\"tommy \" ","\"thats the dumb shit i was talking about  \" ","\"it just doesn't work out man \" ","\"ROME WASN'T BUILT IN A DAY NEIther was hl2dm skill\" ","\"find a corner \" ","\"need a space\" ","\"in console \" ","\"the ~ key \" ","\"above tab \" ","\"in settings you might have to enable dev console \" ","\"option > keybind> advanced\" ","\"tommy if you would fight and not do dumb predictable shit you might get more kills \" ","\"what do you think this is?\" ","\"this is deathmatch man \" ","\"you say you want to get kills im trying to help \" ","\"i make make a check list of shit tommy is going to do if i see him somewhere in this map \" ","\"CASE WE KNOW WHAT YOU ARE GOING TO DO BEFORE YOU DO IT \" ","\"make a change \" ","\"this is not football \" ","\"it's wasd man \" ","\"what did i tell you \" ","\"tommy stop it \" ","\" you are doing the same shit again \" ","\"TOMMY WHAT I SAY ABOUT BACKING T2ARDS DOORS BEHIND YOU \" ","\"we always play low gravity \" ","\"grenades fly nice and people hang in the air to kill them \" ","\"down side is you hang in the air for people to kill you \" ","\"like what?\" ","\"you need a mic tom\" ","\"hello\" ","\"jed discord\" ","\"tommy \" ","\"it is not speed \" ","\"its doiong and saying the same shit \" ","\"fight stop running your little paths and fight \" ","\"that shit gets you killed \" ","\"you fight you win \" ","\"but if you had went up that red door like you always do i would have fuct you \" ","\"LOL \" "],"weapons":[["crossbow_bolt",1453],["grenade_frag",1289],["shotgun",1039],["357",168],["headshots",135],["smg1_grenade",55],["smg1",30],["physics",25],["combine_ball",7],["crowbar",2],["pistol",1],["ar2",1]]},{"name":"-=Oreojuice Jenkins=-","id":"1125539889","ip":"47.13.97.22","kills":4680,"deaths":6538,"kdr":0.72,"chat":["\"aight Tom\" ","\"gg\" ","\"I'm gonna work on my pc\" ","\"got some ov'ing that needs to happen\" ","\"add me on steam friends\" ","\"this my new account\" ","\"LOL\" ","\"HAHAHA\" ","\"GG\" ","\"gg\" ","\"ns\" ","\"bro...spawn??\" ","\"come on\" ","\"there's no way on that shot man\" ","\" like fr fr?\" ","\"lol\" ","\"i call bs\" ","\"because it was a vertical one shot \" ","\"gg\" ","\"lol...go to bed\" ","\"we don't want no mo\" ","\"gg bro\" ","\"same\" ","\"get in here and get that ass blown off nigga\" ","\"the intro page looks great btw\" ","\"good job\" ","\"i didn't...i will though\" ","\"awesome...mine looks terrible\" ","\"lol\" ","\"feel like i need a reset\" ","\"and to not play with jedi anymore\" ","\"jed...lemme get that console command bro\" ","\"you know which one\" ","\"don't play coy wit me...the queen qouldn't approve\" ","\"i tried it\" ","\"it said invalid\" ","\"is password \"cunt\"?\" ","\"nope\" ","\"tried it first\" ","\"gg\" ","\"hey jed\" ","\"you remember meE?\" ","\"i used to be assistman\" ","\"do me a favor\" ","\"make me a gampeplay video of this map for me\" ","\"i wanna watch a pro in action\" ","\"just record it and post it to youtube or something\" ","\" i just wanna watch how a pro be bustin my melon all day :P\" ","\"i thought you might have forgotten\" ","\"i have a link to a tutorial for you\" ","\"but i really wanna see what you see...i feel like it would help me get back into the \"feel of it\" \" ","\"<3\" ","\"what gpu are you using?\" ","\"nice\" ","\"i was goonna say nvidia cards have  a lot of nice software options\" ","\"gg\" ","\"wait\" ","\"there are other maps??\" ","\"dude\" ","\"jedi\" ","\"the spawn killing \" ","\"it really is a bitch move\" ","\"like you're good enough to hunt people down\" ","\"you shouldn't spawn kill people too\" ","\"get in discord\" ","\"my bad man\" ","\"thought that was tommy\" ","\"im in discord\" ","\"waiting on yall to join me\" ","\"sup bro\" ","\"discord?\" ","\"download it\" ","\"it's so small\" ","\"it won't affect performance\" ","\"and you can hear me cry every time you console command kill me\" ","\"i had to figure something out\" ","\"i went to your website to find the hax\" ","\"jedihax.com\" ","\"double\" ","\"it was that important to me\" ","\"get discord\" ","\"you get it?\" ","\"disconnect from the server...when you log back in, click on the discord button\" ","\"he has it setup so that it takes you straight to the discord server\" ","\"now join the general channel\" ","\"im oreo\" ","\"just double click on the general tab\" ","\"get in the discord channel\" ","\"lol\" ","\"you're not in the General chat\" ","\"the channel you're in is for keyboard chat\" ","\"lol\" ","\"for lack of better wording\" ","\"double click on \"General\" under voice chat\" ","\"hey doug\" ","\"we have a discord if you wanna join\" ","\"it's cool\" ","\"we're cool\" ","\"one sec\" ","\"i gotta plug in my headset\" ","\"it died\" ","\"just\" ","\"like\" ","\"me\" ","\":(\" ","\"afk\" ","\"this is a legit server\" ","\"he's the owner\" ","\"it's in his house\" ","\"lol\" ","\"yeah?\" ","\"so he has a ping advantage\" ","\"but the nade throwing and everything else is legit part of the game\" ","\"you'll either stay and play and enjoy the competition or leave and cry about it on the next server you play on\" ","\"nope\" ","\"you just have to move\" ","\"everyone dies...a lot\" ","\"it's deathmatch\" ","\"expect to die\" ","\"gg\" ","\"motd\" ","\"/motd\" ","\"we're in discord if you wanna join\" ","\"just fucking die!!!\" ","\"lol\" ","\"GG\" ","\"NS\" ","\"aight\" ","\"l8r\" ","\"be back soon\" ","\"??\" ","\"Tom get in discord\" ","\"lol? what you meanm?\" ","\"shit you been bustin my ass lately too\" ","\"you see the scoreboard??\" ","\"it's me...im the test dummy Tom\" ","\"it happens that way Tom\" ","\"you know that\" ","\"i was getting my fuckin ASSSSS blown off ALLLLL day yesterday\" ","\"just play through it\" ","\"that's all i know how to tell you to do\" ","\" i know all too well\" ","\"it's less fun 1v1 too\" ","\"crum be back in a second\" ","\"i know bro\" ","\":S\" ","\"gg\" ","\"gg\" ","\"it's just a game Tom\" ","\"let it go mane...like Else\" ","\"elsa*\" ","\"nah\" ","\"im good \" ","\"thx tho\" ","\"gg\" ","\"gg\" ","\"you get in discord?\" ","\"i don't see you\" ","\"gg\" ","\"yall have fun\" ","\"im taking abreak\" ","\"same\" ","\"lol\" ","\"gg\" ","\"suuuup\" ","\"my headset died\" ","\"i gotta run somewhere real fast\" ","\"im gonna charge this headset then I'll be back in a bit\" ","\"gs\" ","\"gg's*\" ","\"try leaving discord and joining back in\" ","\"I'm in discord if you wanna hear me whine\" ","\"gg\" ","\"gg\" ","\"tom\" ","\"did you log in to play?\" ","\"or just ..... idk??\" ","\"brb\" ","\"lo m8\" ","\"you should put that on a bumper sticker mate\" ","\"gg\" ","\"later fellas\" ","\"it's just fun man\" ","\"i get my ass blown off daily \" ","\"check the stats\" ","\"jedi keeps me down all day err day\" ","\"lol, trust me...i know\" ","\"every time I play 1v1 w/ jedi\" ","\"it is tough\" ","\"but it's the only way you'll get better\" ","\"gotta take those ass whippins\" ","\"tis the way of the Dolemite\" ","\"you still playin Tom?\" ","\"or ya done?\" ","\"old\" ","\"none\" ","\"LOL\" ","\"/shrug\" ","\"gotta get warmed up mane\" ","\"not pressing right buttons\" ","\"becuz it's fun\" ","\"gg\" ","\"ulol\" ","\"i might be back in a bit fellas\" ","\"gonna eat\" ","\"watch a bit of the telly\" ","\"what up bros?\" ","\"one min\" ","\"bye Jed\" ","\"10 mins?\" ","\"wb Jedi :P\" ","\"hahahaha\" ","\"welcome\" ","\"come play log wit us\" ","\"stay and play whore\" ","\"aigh\" ","\"be back soon\" ","\"gonna go get a candy bar :P\" ","\"ill be right back\" ","\"sup TOm\" ","\"lo m8\" ","\"discord fellas\" ","\"urgh\" ","\"lol\" ","\"disc jed?\" ","\"lool\" ","\"nice\" ","\"lol\" ","\"the maze up top is a bitch\" ","\"good shot\" ","\"niiiiiiiiiice\" ","\"gg\" ","\"Tommy\" ","\"are you gonna play?\" ","\"ns\" ","\"gime a min\" ","\"suit yourself up\" ","\"Let's play!\" ","\"that was a bitch move TOm\" ","\"you coulda told me you were back\" ","\"lol\" ","\"you;'ve been playing better lately tommy\" ","\"god damn you\" ","\"i've been working on that\" ","\"it was a surprise for my friend\" ","\"and you're a bag of dicks for ruining it\" ","\"discord\" ","\"whore :P\" ","\"discord\" ","\"ill wait\" ","\"go hide somwehere like you usually do when you are actually fighting and maybe we won't think you are a valid target\" ","\"sup tom\" ","\"just play man\" ","\"it's a game\" ","\"play hard, play smart...just have fun\" ","\"game on\" ","\"see??\" ","\"that was a good fight\" ","\"keep it up\" ","\"and quit hiding so much\" ","\"you're much more effective when you get out on the floor and actually fight\" ","\"nah dog...just playing is effort. that's just part of it. we all put the effort in. just gotta play smart and quit thinking \" ","\"too much*\" ","\"it's always a bad idea to chase people through that castle/portal\" ","\"you gotta stop doing that\" ","\"it's so predictable\" ","\"start finding ways to kill people who are using the portal/going into the castle\" ","\"thaat's what i do\" ","\"i try to kill them when they're going in the castle entrance\" ","\"and when they're coming through the portal at the top \" ","\"well, i can tell you for sure you're fucking annoyingly decent with the fucking shotty up close\" ","\"you need to play to your strengths\" ","\"the shotgun is a strength for you and it seems that the 357 is a good weapon for you\" ","\"and smg grenades\" ","\"use whatever works best for you\" ","\"even if it is mad whorrish\" ","\"not to be a dick man, but quit crying about that shit bro\" ","\"like, it makes it even easier to kill you when everyone knows you're already frustrated\" ","\"that's a huge mistake\" ","\"and you spend more time hen pecking trying to tell people that you're frustrated than just getting in their face with your sho\" ","\"shotty*\" ","\"don't bitch about stuff in chat...if you wanna bitch, download fucking discord and come talk with us while we're all playing\" ","\"it's much more fun and we've been waiting for you to get in discord the entire last month\" ","\"gimme just a sec\" ","\"download discord on your phone man\" ","\"it's quick\" ","\"and I'll try to help you if I can talk and play at the same time\" ","\"it's very hard to help someone if you're trying to stop to type every 30 seconds\" ","\"you don't have to talk and play at the same time man\" ","\"but you can play and listen\" ","\"alright...game on\" ","\"welcome jorge\" ","\"ouch...nice\" ","\"lol\" ","\"by the way\" ","\"shotgun is best way to FINISH someone off\" ","\"like if you know you hit em with a bolt or a 357 shot, then pull shotty just to finish em off\" ","\"lol\" ","\"anytime you see someone with that combine gun out....\" ","\"it ususally means they have a ball\" ","\"just get away from them\" ","\"and don't chase people in a straight line\" ","\"bob and weave like barry sanders\" ","\"get them wrong is a better idea\" ","\"try to move in patterns that aren't predictable\" ","\"like side to side is pretty predictable\" ","\"short left, long right, long right, short left, spin, left, right, left, right, short left, long right, etc....\" ","\"nice\" ","\"if you're gonna stand still to shoot...do it beside a wall or something you can get behind\" ","\" i had 3 health left\" ","\"you gotta stay out on the floor in the action\" ","\"you know Jedi dominates everyone\" ","\"like you do a pretty damn good job of getting kills on him\" ","\"at least as good as the rest of us most the time anyway\" ","\"i don't know Tom\" ","\"it's just one of those things bro\" ","\"it'll click one day and then the next you play like shit\" ","\"just be willing to die\" ","\"i have 2x more deaths than anyone on the server, but i don't give up\" ","\"i keep trying to stay in the hunt\" ","\"and NEVER have mercy on anyone\" ","\"always take every kill you can get when you're the last one on the leaderboard\" ","\"i had 4 hp\" ","\"fuck\" ","\"and trust me dude\" ","\"there are some days that I absolutely hate this game, I more than hate Jedi, and I wanna break all the shit in front of my eye\" ","\"I >STILL< haven't gotten my k2d above 1.0 yet\" ","\"i'm currently at .70\" ","\"that's my score almost every single time I play Jedi 1v1\" ","\"so I know how you feel\" ","\"but to be the best, you gotta beat the best\" ","\"so I keep trying to beat him every day\" ","\"ughghghghghgh\" ","\"dammmit Tommy\" ","\"I need to come smoke a blunt witcha\" ","\"you hear me homie\" ","\"I wanna smoke too nigga\" ","\"shit...I can come now if you gonna wait on me\" ","\"uhhh...one sec\" ","\"ok\" ","\"cl_playermodel models/humans/group03/male_08.mdl\" ","\"copy and paste that into console\" ","\"no\" ","\"you shouldn't have to do that much\" ","\"just go to options\" ","\"click \"advanced\"\" ","\"check the box beside \"console\"\" ","\"gg\" ","\"actually I've never once considered why you get aggravated Tom. \" ","\"you could sell that as a service??? I'd pay you $10/wk if you'd come in and let me kill you about 500 time.\" ","\"you make it sound like we are systematically oppressing you Tom\" ","\"BLM**\" ","\"bro...do you think you are the only one????\" ","\"like srsly\" ","\"gg\" ","\"lol\" ","\"gg\" ","\"gg\" ","\"come, stay, enjoy :)\" ","\"gg\" ","\"gg\" ","\"welcome\" ","\"god dammit Tommy\" ","\"you fucking campin bastard\" ","\"is that rhetorical?\" ","\"gg\" ","\"gg\" ","\"gg\" "],"weapons":[["crossbow_bolt",1863],["357",1477],["grenade_frag",687],["shotgun",518],["headshots",356],["smg1_grenade",63],["smg1",59],["combine_ball",46],["ar2",41],["crowbar",36],["physics",21],["pistol",7],["rpg_missile",4]]},{"name":"No one","id":"122444733","ip":"47.13.97.22","kills":606,"deaths":1099,"kdr":0.55,"chat":["\"ow\" ","\"thanks for killing my dad, but i thought that was my job\" ","\"nice one\" ","\"noice\" ","\"gg\" ","\"!votevan Jed\" ","\"hi\" ","\"no\" "],"weapons":[["357",180],["crossbow_bolt",125],["shotgun",95],["grenade_frag",74],["pistol",38],["smg1",37],["physics",27],["crowbar",25],["rpg_missile",23],["smg1_grenade",7],["ar2",6],["combine_ball",5],["stunstick",2]]},{"name":"Immobile Sniper","id":"18885190","ip":"172.223.130.153","kills":947,"deaths":1938,"kdr":0.49,"chat":["\"k\" ","\"blunt here\" ","\"k\" ","\"here\" ","\"yeah seems fine to me\" ","\"back in a bit gptta take Lora dinner\" ","\"nope\" ","\"gg bud\" ","\"gotvha\" ","\"bet\" ","\"gotta pause a min\" ","\"gotta roll for a min guys\" ","\"bout to roll out got a tournament gig tomorrow in Trenton\" ","\"gg bud gotta run to chiropractor\" ","\"y\" ","\"keep geting hung up on shit \" ","\"boy I'd sure like to play decent...\" ","\"goddammit\" ","\"tired of getting hung up on shit\" ","\"sure helpes when I make it easy for you anf crumb huh?\" ","\"I mean dumb shit like getting hung up or take a bad step and just givin shit away\" ","\"that's what I'm sayin this is PITIFUL\" ","\"tell her my plate won't fix itsself too\" ","\"see it's that kind of shit\" ","\"tired of playing bad\" ","\"you good just aggravated with myself...half my deaths are getting hung up on shit or takin a bad step \" ","\"see\" ","\"just givin it away\" ","\"sure I'll just keep playing like an idiot\" ","\"here we go again back to me doin dumb shit\" ","\"see\" ","\"just tired of playing like crap\" ","\"dammit\" ","\"sure Tommy just keep makin it easy\" ","\"gotta step out guys\" ","\"gotta step out guys be back later\" ","\"sorry I get aggravated with myself just tired of getting no better results \" ","\"will soon as I get back\" ","\"dammit\" ","\"I must be the worst player in the world \" ","\"gg\" ","\"apparent;y I haven't improved a lick lol\" ","\"apparent;y I haven't improved any dammit lol\" ","\"see what I mean? I can't play any worse \" ","\"and half these kills were within 10 feet of me spawning\" ","\"g\" ","\"hey bud\" ","\"ok head right now ;p;\" ","\"am I this fucking bad?\" ","\"constantly a half step late and hanginup on shit\" ","\"see>\" ","\"sure just make it easy lol\" ","\"GG\" ","\"brb\" ","\"gotta step out\" ","\"yeah here in a min\" ","\"feels like I ain't improved a lick or got worse\" ","\"gotta go feed Lora nack in a bit\" ","\"ugh\" ","\"always a half step late\" ","\"brb gotta eat \" ","\"brb gotta get head right\" ","\"always a half step late \" ","\"same shit hung up on stuff make it easy for ya\" ","\"exactly my point\" ","\"swear I haven't improved any\" ","\"exactly my poinyt\" ","\"sure just make it easier\" ","\"pitiful\" ","\"sure feels like I haven't improved any\" ","\"tried everything I thought nothing works...hardly ever get loaded up for one half my deaths are before I get 10 steps \" ","\"can't hit anything anymore always a half step late and no ammo\" ","\"ynever enough\" ","\"whjy am I this slow now?\" ","\"same shit just give it to 7ya\" ","\"exactly\" ","\"PITIFUL\" ","\"why bother if I can't do any better than that?\" ","\"kinda hard to enjoy 2-30 constantlly\" ","\"thast's all I ever get to do...\" ","\"just never enough\" ","\"yeah can't hit anything and dead before I take 10 steps 89% of the time\" ","\"once again\" ","\"see?\" ","\"just give shit away\" ","\"why is it never enough?\" ","\"yeah just trying to regrou[\" ","\"tired of never doing anything but get beat\" ","\"how am I supposed to enjoy these results?\" ","\"this is pathetic\" ","\"pitiful\" ","\"pathetic\" ","\"why am I so slow now?\" ","\"always a half step late\" ","\"why am I so fuckin slow these days?\" ","\"apparenjtly I\"m not allowed to get any momermtum either...\" ","\"brb\" ","\"tired of playing like asscrack\" ","\"sure just givin it to ya like always\" ","\"how can I play this bad?\" ","\"fuckin pathetic\" ","\"see what I mean? hell half the time I just give it to ya cause I took a bad step or half a step too late\" ","\"how can I be this bad?\" ","\"beat myself more than anything\" ","\"why do I bother?\" ","\"hard to be fun when all you ever do is get beat on...\" ","\"why the cheap shit?\" ","\"what the fuck am I doin wrong dog?\" ","\"man I've tried everything I can physically do \" ","\"how? I can't make myself go any faster\" ","\"that was a complete accident \" ","\"dammit\" ","\"been trying like hell dog I just can't get my hands to do it\" ","\"look at it from my perspective...I hardly EVER get to start a fight loaded up on suit or weapons cause one of you is ON me \" ","\"I don't get to build or keep any momemntum hardly\" ","\"kinda have to pick my spots at times...if I don't it's another 5-30\" ","\"pitpful\" ","\"brb\" ","\"happens a LOT probably\" ","\"brb\" ","\"tired of playing so fuckin bad\" ","\"why am I always a half step slower than everyone?\" ","\"my shots never come out on time\" ","\"doin everything i can physcially\" ","\"tired of playing so bad\" ","\"earlier I came in and there were 5 new guys...first map I've won against human opponents in YEARS in here...\" ","\"tired of just constantly gettin beat on\" ","\"yep first one in YEARS...\" ","\"just too slow\" ","\"wasn't me\" ","\"I finally get a room full of new guys and win a full map with humans and bout the time I get rollin Jedi shows up\" ","\"how are you that much faster?\" ","\"like that....ALWAYS a half step too slow or my shot doesn't come out fast enough\" ","\"like right there...my shot never came out\" ","\"brb\" ","\"bout to get the head right\" ","\"brb\" ","\"nah like 2\" ","\"gotta give it a rest a min\" ","\"gettin back in but gotta roll one\" ","\"I was trying to get down in the box\" ","\"man I'm tryin new shit just can't execute it right yet\" ","\"bet dog yeah I'm tryin new shit\" ","\"WONDERFUL START lol\" ","\"THANKS BUD\" ","\"gotta eat guys brb\" ","\"waitin on dinner and enjoying being 6-0 cause the Steelers won \" ","\"gotta breathe for a min\" ","\"i just hit you 3 times? \" ","\"gotta give shoulder a rest\" ","\"time to smoke\" ","\"brb\" ","\"so I can let you do stuff like that lol\" ","\"done for now got shit goin on here for a min\" ","\"nothing works\" ","\"5 hits not enough?\" ","\"time to smoke\" ","\"how did that not kill you?\" ","\"all I do is play bad\" ","\"same result\" ","\"I know but still feels at times like I haven't improved at all\" ","\"sure don't look or feel like it lol\" ","\"naturally \" ","\"why so I bother\" ","\"nothing works\" ","\"see?\" ","\"plus the cheap kills\" ","\"might as well lol I try to stay om you and all I do is miss and step the wrong way\" ","\"exactly\" ","\"always late\" ","\"can't hit shit\" ","\"not like I'm not trying \" ","\"sure pad your stats lol\" ","\"stick around please\" ","\"sure start like a fuckin chump like I do every map\" ","\"what the fuck am I doin wrong\" ","\"can't kill anyone apparently...\" ","\"nothing works\" ","\"like hell lol\" ","\"I'd bet you guys get 10 killa a map just like that haven't  moved yet tioo\" ","\"man I can't hit shit\" ","\"for the day I'm 32-135 lol\" ","\"feels like I'm not allowed to hit you cause it's so rare\" ","\"gotta rest up a min\" ","\"dammit mistake after mistake all day\" ","\"frustrated lol\" ","\"I know but damn lol\" ","\"not like I'm not trying...but for the amount of effort I put in you'd think my results would be better lol\" ","\"man it sure don't feel like it but gotcha \" ","\"yeah bad habit but ingrained...\" ","\"problem for me these days is when I try to charge people I can't seem to hit anything reliably\" ","\"believe me I try but half the time it feels like I always take a step in the wrong direction and make shit easy\" ","\"I feel ya dog\" ","\"you comin?\" ","\"right but I honestly don't think I can talk and play at the same time really\" ","\"this is just one of the things that are different now with the head injury...\" ","\"trying all the time lol\" ","\"constantly trying but can't ever seem to get the moves right\" ","\" believe me I'm doin all I can physically do\" ","\"exactly\" ","\"seems like EVERYONE gets on these runs too I get one kill you get 10\" ","\"sure don't feel like it\" ","\"all I do is play like shit feels like\" ","\"I try not to really \" ","\"dammit lol\" ","\"can't say I\"ve ever hated it but gettin hard to enjoy being 5-30 constantly\" ","\"oh I know \" ","\"blunt time\" ","\"yep just let me know\" ","\"come on\" ","\"nice\" ","\"hold shift down to run fast \" ","\"infinite fast run\" ","\"same\" ","\"please come back\" ","\"we play alot \" ","\"you're good competition\" ","\":)\" ","\"night\" ","\"lol he working in the morning\" ","\"at least 16\" ","\"it's jordan\" ","\"im at tommy's house\" ","\"come over to smoke a blunt\" ","\"lmao\" ","\"i was playing bad though lol\" ","\"yeah\" ","\"and high :P\" ","\"done \" ","\"just did it before i played\" ","\"and people wonder why I get aggravated\" ","\"of course not you're not the one that's supposed to enjoy going 4-30\" ","\"all I do is pad people's stats looks like\" ","\"all I get to do is what everyone else dictates...I don't get to keep people down all day\" ","\"nah I know better but feels like it at times...all I EVER do is get beat on...half my deaths are within 10 steps of spawn\" ","\"doin all I can do physically and still feels like it not enough\" ","\"can't make myself any faster\" ","\"never thought I'd have to stop and literally stretch in a video game\" ","\"not like I\"m not tryin to avoid it\" ","\"man I'm trying dog \" ","\"results are trash lol\" ","\" man it's harder to play like this\" ","\"like I try bum rushing people and can't move the mouse in small enough movements to get hits\" ","\"gg\" ","\"gg\" ","\"tured of thisd\" ","\"just play like shit ALL THE TIME \" ","\"bacl to playing like shit\" ","\"pitiful\" ","\"why do I play so bad?\" ","\"this is pathetic\" ","\"nothing works\" ","\"and all I do is get beat\" "],"weapons":[["crossbow_bolt",390],["shotgun",369],["357",75],["headshots",74],["smg1_grenade",53],["grenade_frag",23],["smg1",23],["combine_ball",16],["ar2",14],["pistol",1]]}],[["crossbow_bolt",5579],["357",4542],["shotgun",2885],["grenade_frag",2751],["headshots",947],["smg1",354],["smg1_grenade",302],["ar2",208],["physics",182],["combine_ball",135],["pistol",88],["crowbar",76],["rpg_missile",57],["stunstick",13],["physcannon",2]],169]";


function cleanUp() {
  console.count('cleanup-function')
  var now = new Date();
  var lastMonth = now.setMonth(now.getMonth() - 1);
  var folder = './oldTop';
  if (!fs.existsSync(folder)){
    fs.mkdirSync(folder);
  }
  var filename = `./oldTop/${lastMonth}.json`;
  fs.writeFile(filename, JSON.stringify(top), e => {
    if (err) return console.log(`${new Date()} - Error saving ${__dirname}/oldTop/${lastMonth}.json`, err);
    if (!fs.existsSync(filename)){
      return console.log(`${new Date()} - Error saving ${__dirname}/oldTop/${lastMonth}.json`);
    }
    console.log(`${new Date()} - top player data saved as ${__dirname}/oldTop/${lastMonth}.json`);
    var numFiles = 0;
    fs.readdir(logFolder, (err, files) => {
      console.log(`${new Date()} - Running log file clean up`);
      numFiles = numFiles + files.length;
      var howMany = files.length;
      files.forEach(file => {
        copyFile(file);
        console.log(file);
      });
      fs.readdir(config.gameServerDir, (err, files) => {
        console.log(`${new Date()} - Running demo file clean up`);
        files.forEach(file => {
          numFiles = numFiles + files.length;
          if (path.extname(file) === '.dem') {
            copyFile(file);
            console.log(file);
            howMany--;
            if (howMany <= 0) {
              console.log(`${new Date()} - Clean up complete. ${numFiles} files processed and backed up to ${__dirname}/oldLogs/${lastMonth}`);
              parseLogs();
            }
          }
        });
      });
    });
  });
;}

function copyFile(filename) {
  var now = new Date();
  var lastMonth = now.setMonth(now.getMonth() - 1).getTIme();
  var folder = './oldLogs';
  if (!fs.existsSync(folder)){
    fs.mkdirSync(folder);
  }
  if (!fs.existsSync(lastMonth)){
    fs.mkdirSync(lastMonth);
  }
  fs.createReadStream(`${logFolder}/${filename}`).pipe(fs.createWriteStream(`${__dirname}/oldLogs/${lastMonth}/${filename}`));
}

cleanUp();
